/* AURIX FX â€” lightweight space-tech layer (no libs) */
:root{
  --aurix-accent:#FF6B35;
  --aurix-accent2:#FF8F00;
  --aurix-mx:50vw;
  --aurix-my:30vh;
}

/* Base cosmic drift */
body{
  position:relative;
  /* Create stacking context so z-index behaves predictably */
  isolation:isolate;
}

body::before{
  content:"";
  position:fixed;
  inset:-18%;
  z-index:0;
  pointer-events:none;
  background:
    radial-gradient(900px 540px at 18% 0%, rgba(255,107,53,.18), transparent 62%),
    radial-gradient(820px 520px at 78% 18%, rgba(255,143,0,.14), transparent 62%),
    radial-gradient(720px 560px at 55% 82%, rgba(155,90,255,.10), transparent 62%),
    linear-gradient(180deg, rgba(8,8,10,0) 0%, rgba(8,8,10,.55) 55%, rgba(8,8,10,.82) 100%);
  filter:saturate(1.1);
  transform:translate3d(0,0,0);
  animation:aurix-drift 18s ease-in-out infinite alternate;
  opacity:.95;
}

@keyframes aurix-drift{
  0%{transform:translate3d(-1.5%, -1.2%, 0) scale(1.02); filter:hue-rotate(0deg) saturate(1.08)}
  100%{transform:translate3d(1.3%, 1.1%, 0) scale(1.04); filter:hue-rotate(8deg) saturate(1.14)}
}

/* Animated noise layer (subtle) */
body::after{
  content:"";
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
  opacity:.07;
  mix-blend-mode:overlay;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
  background-size:180px 180px;
  animation:aurix-noise 7.5s steps(10) infinite;
}

@keyframes aurix-noise{
  0%{transform:translate3d(0,0,0)}
  10%{transform:translate3d(-2%,-3%,0)}
  20%{transform:translate3d(3%,-1%,0)}
  30%{transform:translate3d(-4%,2%,0)}
  40%{transform:translate3d(2%,4%,0)}
  50%{transform:translate3d(-1%,3%,0)}
  60%{transform:translate3d(4%,1%,0)}
  70%{transform:translate3d(-3%,4%,0)}
  80%{transform:translate3d(2%,-2%,0)}
  90%{transform:translate3d(-2%,1%,0)}
  100%{transform:translate3d(0,0,0)}
}

/* Cursor glow (JS updates vars) */
#aurixCursorGlow{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
  background:
    radial-gradient(420px 320px at var(--aurix-mx) var(--aurix-my), rgba(255,107,53,.14), transparent 60%),
    radial-gradient(520px 380px at calc(var(--aurix-mx) + 140px) calc(var(--aurix-my) + 80px), rgba(255,143,0,.10), transparent 62%);
  opacity:.9;
  transition:opacity .25s ease;
}

/* Particles canvas */
#aurixParticles{
  position:fixed;
  inset:0;
  z-index:2;
  pointer-events:none;
}

/* Ensure app content stays above FX overlays (Flutter + static pages) */
body > *:not(#aurixCursorGlow):not(#aurixParticles):not(flt-glass-pane):not(flt-scene-host):not(flt-semantics-host){
  position:relative;
  z-index:5;
}

/* Keep FX layers under content */
#aurixCursorGlow{ z-index:1; }
#aurixParticles{ z-index:2; }

/* Pause animations when JS adds class */
html.fx-paused body::before,
html.fx-paused body::after{
  animation-play-state:paused !important;
}
html.fx-paused #aurixCursorGlow{
  opacity:.45;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  body::before, body::after{animation:none !important}
  #aurixCursorGlow{transition:none}
}

/* Ensure Flutter renders above FX (don't override Flutter positioning) */
flt-glass-pane,
flt-scene-host,
flt-semantics-host{
  z-index:100 !important;
}

/* Ensure loading screen is above everything during load */
#loading {
  z-index: 9999 !important;
}

